<html>
  <head>
    <meta content="text/html;charset=utf-8" http-equiv="Content-type" />
    <title>Mine Demo</title>
  </head>
  <body>
    <h1>Mine Demo</h1>
    <i>in the console</i>
    <h2>JsMine</h2>
    <pre>
      // run
      console.time("jsMine"); console.log(jsMine("hello")); console.timeEnd("jsMine")

      // to get answer
     (2)Â [156056, "0000037660ee0e22df67a053537e000325bbfad2cce9b8b7c795f6aa961d5cb7"]

      // and time take in ms
    </pre>
    <script type="text/javascript">
      function wrapLogAndOutput(callFunction, args, divId) {
        window.requestAnimationFrame(() => {
          const outputElement = document.getElementById(divId);
          outputElement.innerHTML = "...";
          window.requestAnimationFrame(() => {
            const start = new Date().getTime();
            const answer = callFunction(args);
            const end = new Date().getTime();
            const answer_timed = Object.assign(answer, { time: end - start });
            console.log(answer_timed);
            outputElement.innerHTML = JSON.stringify(answer_timed);
          });
        });
      }
    </script>
    <button onClick="wrapLogAndOutput(jsMine, 'hello', 'js-mine-output')">
      Run
    </button>
    <div id="js-mine-output"></div>
    <h2>wastMine</h2>
    <pre>
      // run
      console.time("wastMine"); console.log(wastMine("hello")); console.timeEnd("wastMine")
    </pre>
    <h2>wasmMine (in rust)</h2>
    <pre>
      // run
      console.time("wasmMine"); console.log(wasmMine("hello")); console.timeEnd("wasmMine")
      // error and does not take a string but an empty string only ""
      console.time("rustMine"); rustMine.then(rm => {console.log(rm.rust_mine("")); console.timeEnd("rustMine"); });
      // same as above due to error
      console.time("rustMine"); rustMine.then(rm => {console.log(rm.rust_mine("hello")); console.timeEnd("rustMine"); });
    </pre>
    <button
      onClick="rustMine.then(rm => {wrapLogAndOutput(rm.rust_mine, 'hello', 'wasm-mine-output')})"
      disabled
    >
      Run
    </button>
    <div id="wasm-mine-output"></div>
    <h2>wastMine</h2>
    <script src="./bootstrap.js"></script>
  </body>
</html>
